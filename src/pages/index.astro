---
import Layout from '../layouts/Layout.astro';
import { Image, getImage } from 'astro:assets';
import logo from '../../public/images/logo.png';
import heroBackground from '../../public/images/69E0CDE5-41D5-425B-A9ED-0A1634AD7D4B.png';
import insuredBadge from '../../public/images/Insured_ Badge_Transparent.png';
import ecoFriendlyBadge from '../../public/images/RPW-Eco-Friendy-Badge.png';
import multiPanelCollage from '../../public/images/RPW-Dynamic_multi-panel_before-and-after_collage_five_0 copy.png';
import poolDeck from '../../public/images/UnderGround_Pool_Deck_Cleaning.png';
import houseWashing from '../../public/images/House Washing.png';
import hardscapes from '../../public/images/Hardscapes Cleaning.png';
import gutterCleaning from '../../public/images/gutter cleaning.png';
import commercial from '../../public/images/Commercial Pressure Washing.png';
import deckRestoration from '../../public/images/Clean_Wooden_Sitting_Deck.png';
import fenceCleaning from '../../public/images/Clean Fense.png';
import brickRestoration from '../../public/images/Brick Restoration.png';
import graffitiRemoval from '../../public/images/Before and After- Graffiti Removal.png';
import '../styles/pages/home.css';

const heroBackgroundWebp = await getImage({
  src: heroBackground,
  format: 'webp',
  width: 1920,
  quality: 72,
});

const heroBackgroundPng = await getImage({
  src: heroBackground,
  format: 'png',
  width: 1920,
});

const heroBackgroundImageSet = `image-set(url('${heroBackgroundWebp.src}') type('image/webp') 1x, url('${heroBackgroundPng.src}') type('image/png') 1x)`;
const heroBackgroundFallbackValue = `url('${heroBackgroundPng.src}')`;
const nextUrl = new URL('/thank-you', Astro.site ?? 'https://example.com').toString();
---

<Layout
  title="Reimagine Pro Wash - Professional Pressure Washing Services | Knightdale, NC"
  description="Professional pressure washing services in Knightdale, NC. Insured, eco-friendly, and trusted for residential and commercial projects."
>
  <div class="home-page">
        <section
            id="home"
            class="hero-section"
            style={`--hero-background-image: ${heroBackgroundImageSet}; --hero-background-fallback: ${heroBackgroundFallbackValue};`}
        >
            <div class="hero-water-overlay" aria-hidden="true"></div>
            <div class="hero-bubbles" aria-hidden="true">
                <span class="bubble bubble-1"></span>
                <span class="bubble bubble-2"></span>
                <span class="bubble bubble-3"></span>
                <span class="bubble bubble-4"></span>
                <span class="bubble bubble-5"></span>
                <span class="bubble bubble-6"></span>
                <span class="bubble bubble-7"></span>
            </div>
            <div class="hero-content">
                <div class="hero-logo">
                    <Image src={logo} alt="Reimagine Pro Wash & More Logo" width={500} height={500} loading="eager" />
                </div>

                <h1 class="hero-title">Refresh. Renew. Reimagine.</h1>
                <p class="hero-subtitle">Professional Pressure Washing Services</p>

                <p class="hero-description">
                    Transform your property with our professional pressure washing services. Insured and committed to delivering exceptional results with eco-friendly solutions.
                </p>

                <div class="hero-buttons">
                    <a href="#contact" class="btn-primary">Get Free Estimate</a>
                    <a href="#services" class="btn-secondary">View Services</a>
                </div>
            </div>
        </section>

        <!-- Results Showcase Section -->
        <section class="results-showcase-section">
            <div class="results-showcase-container">
                <h2>See the Difference</h2>
                <p class="results-subtitle">Real transformations from our recent projects</p>

                <!-- Before/After Sliders -->
                <div class="before-after-slider">
                    <h3>Interactive Before & After</h3>
                    <p class="slider-instruction">Drag the sliders to reveal the transformations</p>

                    <div class="sliders-grid">
                        <!-- Sidewalk Slider -->
                        <div class="comparison-slider">
                            <h4 class="slider-title">Sidewalk Cleaning</h4>
                            <div class="comparison-image-wrapper" data-slider="sidewalk">
                                <img src="/images/RPW-After Sidewalk-10-7-25 copy.jpeg" alt="After Sidewalk Cleaning" class="comparison-after" loading="lazy">
                                <div class="comparison-overlay">
                                    <img src="/images/RPW-Before Sidewalk 10-7-25 copy.jpeg" alt="Before Sidewalk Cleaning" class="comparison-before" loading="lazy">
                                </div>
                                <div class="comparison-slider-handle">
                                    <div class="slider-line"></div>
                                    <div class="slider-button">
                                        <i class="fas fa-chevron-left"></i>
                                        <i class="fas fa-chevron-right"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="comparison-labels">
                                <span class="label-before">BEFORE</span>
                                <span class="label-after">AFTER</span>
                            </div>
                        </div>

                        <!-- Driveway Slider -->
                        <div class="comparison-slider">
                            <h4 class="slider-title">Driveway Restoration</h4>
                            <div class="comparison-image-wrapper" data-slider="driveway">
                                <img src="/images/Driveway After.png" alt="After Driveway Cleaning" class="comparison-after" loading="lazy">
                                <div class="comparison-overlay">
                                    <img src="/images/Driveway Before.png" alt="Before Driveway Cleaning" class="comparison-before" loading="lazy">
                                </div>
                                <div class="comparison-slider-handle">
                                    <div class="slider-line"></div>
                                    <div class="slider-button">
                                        <i class="fas fa-chevron-left"></i>
                                        <i class="fas fa-chevron-right"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="comparison-labels">
                                <span class="label-before">BEFORE</span>
                                <span class="label-after">AFTER</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="showcase-image-wrapper">
                    <Image src={multiPanelCollage} alt="Before and After Results Showcase" class="showcase-image" width={1200} height={800} loading="lazy" />
                </div>

                <div class="showcase-cta">
                    <p>Ready to transform your property?</p>
                    <a href="#contact" class="btn-showcase">Get Your Free Quote</a>
                </div>
            </div>
        </section>

        <!-- Why Choose Us Section -->
        <section id="why-choose-us" class="trust-section">
            <div class="trust-container">
                <h2>Why Choose Reimagine Pro Wash?</h2>
                <p class="trust-section-subtitle">Professional, reliable, and eco-friendly pressure washing services you can trust</p>

                <div class="trust-cards">
                    <div class="trust-card">
                        <div class="trust-icon">
                            <Image src={insuredBadge} alt="Insured Badge" width={100} height={100} loading="lazy" />
                        </div>
                        <h3>Fully Insured</h3>
                        <p>Fully insured for your peace of mind. We carry comprehensive liability insurance to protect your property.</p>
                    </div>

                    <div class="trust-card">
                        <div class="trust-icon">
                            <Image src={ecoFriendlyBadge} alt="Eco-Friendly Badge" width={100} height={100} loading="lazy" />
                        </div>
                        <h3>Eco-Friendly Solutions</h3>
                        <p>We use environmentally safe cleaning solutions that are tough on dirt but gentle on your property and the planet.</p>
                    </div>

                    <div class="trust-card special">
                        <div class="trust-icon">
                            <i class="fas fa-map-marked-alt" style="font-size: 4rem; color: var(--light-blue);"></i>
                        </div>
                        <h3>50+ Mile Service Radius</h3>
                        <p>Proudly serving Knightdale and surrounding areas within a 50+ mile radius. No job too far!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="services-section">
            <div class="services-container">
                <h2>Our Services</h2>
                <p class="services-subtitle">Comprehensive pressure washing solutions for residential and commercial properties</p>

                <div class="services-grid">
                    <div class="service-card">
                        <Image src={poolDeck} alt="Pool Deck Cleaning" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Pool Deck Cleaning</h3>
                            <p>Remove algae, mildew, and stains from your pool deck. Safe for all surfaces including concrete, pavers, and stone.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={houseWashing} alt="House Washing" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>House Washing</h3>
                            <p>Gentle yet effective soft washing for all exterior surfaces. Removes dirt, mold, and mildew without damage.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={hardscapes} alt="Hardscapes Cleaning" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Hardscapes Cleaning</h3>
                            <p>Restore the beauty of driveways, walkways, patios, and retaining walls with professional pressure washing.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={gutterCleaning} alt="Gutter Cleaning" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Gutter Cleaning</h3>
                            <p>Keep your gutters flowing freely. We remove debris and clean downspouts for proper water drainage.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={commercial} alt="Commercial Pressure Washing" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Commercial Pressure Washing</h3>
                            <p>Professional cleaning for storefronts, parking lots, sidewalks, and building exteriors.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={deckRestoration} alt="Deck Restoration" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Deck Restoration</h3>
                            <p>Bring your deck back to life. We clean, strip, and prepare wood decks for staining or sealing.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={fenceCleaning} alt="Fence Cleaning" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Fence Cleaning</h3>
                            <p>Remove years of dirt, mold, and mildew from wood, vinyl, and composite fences.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={brickRestoration} alt="Brick Restoration" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Brick Restoration</h3>
                            <p>Safely restore brick surfaces to their original beauty. Expert cleaning without damaging mortar.</p>
                        </div>
                    </div>

                    <div class="service-card">
                        <Image src={graffitiRemoval} alt="Graffiti Removal" class="service-image" width={400} height={350} loading="lazy" />
                        <div class="service-overlay">
                            <h3>Graffiti Removal</h3>
                            <p>Fast and effective graffiti removal from all surfaces. We restore your property's appearance quickly.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Service Area Section -->
        <section id="service-area" class="service-area-section">
            <div class="service-area-container">
                <h2>Our Service Area</h2>
                <p class="service-area-subtitle">Serving Knightdale, NC and surrounding communities within 50+ miles</p>

                <div class="coverage-visual">
                    <div class="coverage-radius">
                        <div class="coverage-circle">
                            <div class="coverage-center">
                                <i class="fas fa-map-marker-alt"></i>
                                <h3>Knightdale</h3>
                                <p>50+ Mile Radius</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="communities-grid">
                    <a href="https://www.google.com/maps/place/Raleigh,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Raleigh
                    </a>
                    <a href="https://www.google.com/maps/place/Durham,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Durham
                    </a>
                    <a href="https://www.google.com/maps/place/Cary,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Cary
                    </a>
                    <a href="https://www.google.com/maps/place/Wake+Forest,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Wake Forest
                    </a>
                    <a href="https://www.google.com/maps/place/Garner,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Garner
                    </a>
                    <a href="https://www.google.com/maps/place/Clayton,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Clayton
                    </a>
                    <a href="https://www.google.com/maps/place/Apex,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Apex
                    </a>
                    <a href="https://www.google.com/maps/place/Holly+Springs,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Holly Springs
                    </a>
                    <a href="https://www.google.com/maps/place/Fuquay-Varina,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Fuquay-Varina
                    </a>
                    <a href="https://www.google.com/maps/place/Morrisville,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Morrisville
                    </a>
                    <a href="https://www.google.com/maps/place/Chapel+Hill,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Chapel Hill
                    </a>
                    <a href="https://www.google.com/maps/place/Wendell,+NC" target="_blank" rel="noopener noreferrer" class="community-link">
                        <i class="fas fa-map-pin"></i>
                        Wendell
                    </a>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="contact-section">
            <div class="contact-container">
                <h2>Get Your Free Quote</h2>
                <p class="contact-subtitle">Ready to transform your property? Contact us today for a free, no-obligation estimate</p>

                <div class="contact-content">
                    <div class="contact-info-card">
                        <h3>Contact Information</h3>

                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <div class="contact-item-content">
                                <h4>Phone</h4>
                                <p><a href="tel:+19842024980">(984) 202-4980</a></p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div class="contact-item-content">
                                <h4>Email</h4>
                                <p><a href="mailto:info@rprowashnc.com">info@rprowashnc.com</a></p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div class="contact-item-content">
                                <h4>Service Area</h4>
                                <p>Knightdale, NC and surrounding areas within 50+ miles</p>
                            </div>
                        </div>
                    </div>

                    <div class="contact-form-card">
                        <h3>Request a Quote</h3>
                        <form id="contact-form" action="https://formsubmit.co/info@rprowashnc.com" method="POST">
                            <input type="hidden" name="_captcha" value="false" />
                            <input type="hidden" name="_subject" value="New Quote Request - Reimagine Pro Wash" />
                            <input type="hidden" name="_next" value={nextUrl} />
                            <div class="form-group">
                                <label for="name">Full Name *</label>
                                <input type="text" id="name" name="name" placeholder="John Doe" required>
                            </div>

                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" placeholder="john@example.com" required>
                            </div>

                            <div class="form-group">
                                <label for="phone">Phone Number *</label>
                                <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567" required>
                            </div>

                            <div class="form-group">
                                <label for="service">Service Needed *</label>
                                <select id="service" name="service" required>
                                    <option value="">Select a service...</option>
                                    <option value="house-washing">House Washing</option>
                                    <option value="pool-deck">Pool Deck Cleaning</option>
                                    <option value="hardscapes">Hardscapes Cleaning</option>
                                    <option value="gutter-cleaning">Gutter Cleaning</option>
                                    <option value="commercial">Commercial Pressure Washing</option>
                                    <option value="deck-restoration">Deck Restoration</option>
                                    <option value="fence-cleaning">Fence Cleaning</option>
                                    <option value="brick-restoration">Brick Restoration</option>
                                    <option value="graffiti-removal">Graffiti Removal</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="message">Project Details</label>
                                <textarea id="message" name="message" placeholder="Tell us about your project..."></textarea>
                            </div>

                            <button type="submit" class="submit-btn">Send Quote Request</button>
                        </form>
                    </div>
                </div>

                <div class="quick-contact">
                    <h3>Need Help Right Away?</h3>
                    <div class="quick-contact-buttons">
                        <a href="tel:+19842024980" class="quick-contact-btn phone">
                            <i class="fas fa-phone"></i>
                            Call Now: (984) 202-4980
                        </a>
                        <a href="mailto:info@rprowashnc.com" class="quick-contact-btn email">
                            <i class="fas fa-envelope"></i>
                            Email Us
                        </a>
                    </div>
                </div>
            </div>
        </section>

  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const header = document.querySelector('.rpw-main-header');
      const anchorLinks = document.querySelectorAll('a[href^="#"]');

      anchorLinks.forEach((link) => {
        link.addEventListener('click', (event) => {
          const href = link.getAttribute('href');
          if (!href || href === '#') {
            return;
          }

          const targetId = href.slice(1);
          const target = document.getElementById(targetId);

          if (target) {
            event.preventDefault();
            const headerHeight = header ? header.offsetHeight : 0;
            const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight;

            window.scrollTo({
              top: targetPosition,
              behavior: 'smooth',
            });

            const mobileToggle = document.querySelector('.rpw-mobile-menu-toggle');
            const mobileMenu = document.querySelector('.rpw-mobile-menu');
            if (mobileToggle && mobileMenu) {
              mobileToggle.classList.remove('active');
              mobileMenu.classList.remove('active');
              mobileToggle.setAttribute('aria-expanded', 'false');
              document.body.style.overflow = '';
            }
          }
        });
      });

      const sliders = document.querySelectorAll('.comparison-image-wrapper');

      sliders.forEach((slider) => {
        const handle = slider.querySelector('.comparison-slider-handle');
        const overlay = slider.querySelector('.comparison-overlay');
        const beforeImage = slider.querySelector('.comparison-before');
        let isDragging = false;

        const setBeforeImageWidth = () => {
          const containerWidth = slider.offsetWidth;
          beforeImage.style.width = `${containerWidth}px`;
        };

        setBeforeImageWidth();
        window.addEventListener('resize', setBeforeImageWidth);

        const updateSlider = (x) => {
          const rect = slider.getBoundingClientRect();
          const position = Math.max(0, Math.min(x - rect.left, rect.width));
          const percentage = (position / rect.width) * 100;
          overlay.style.width = `${percentage}%`;
          handle.style.left = `${percentage}%`;
        };

        handle.addEventListener('mousedown', () => {
          isDragging = true;
        });

        document.addEventListener('mousemove', (event) => {
          if (isDragging) {
            updateSlider(event.clientX);
          }
        });

        document.addEventListener('mouseup', () => {
          isDragging = false;
        });

        handle.addEventListener('touchstart', (event) => {
          isDragging = true;
          event.preventDefault();
        });

        document.addEventListener('touchmove', (event) => {
          if (isDragging) {
            const touch = event.touches[0];
            updateSlider(touch.clientX);
          }
        }, { passive: false });

        document.addEventListener('touchend', () => {
          isDragging = false;
        });
      });
    });
  </script>
</Layout>
