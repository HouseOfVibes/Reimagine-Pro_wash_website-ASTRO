---
import '../styles/components/header.css';
---

<header class="rpw-main-header">
  <div class="rpw-top-bar">
    <div class="rpw-top-bar-content">
      <div class="rpw-top-bar-left">
        <span class="rpw-top-bar-item">
          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
          Knightdale, NC + 50 mile radius
        </span>
        <a class="rpw-top-bar-item" href="tel:9842024980">
          <i class="fas fa-phone" aria-hidden="true"></i>
          (984) 202-4980
        </a>
      </div>
      <div class="rpw-top-bar-right">
        <a class="rpw-top-bar-item" href="mailto:info@rprowashnc.com">
          <i class="fas fa-envelope" aria-hidden="true"></i>
          info@rprowashnc.com
        </a>
        <div class="rpw-top-bar-item">
          <a
            class="rpw-social-link-top"
            href="https://www.facebook.com/people/Reimagine-Pro-Wash-More/61575086936289/"
            target="_blank"
            rel="noopener"
            aria-label="Reimagine Pro Wash on Facebook"
          >
            <i class="fab fa-facebook"></i>
          </a>
          <a
            class="rpw-social-link-top"
            href="https://www.instagram.com/reimagine_prowash/"
            target="_blank"
            rel="noopener"
            aria-label="Reimagine Pro Wash on Instagram"
          >
            <i class="fab fa-instagram"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <nav class="rpw-main-nav" aria-label="Primary">
    <div class="rpw-nav-content">
      <a class="rpw-logo-container" href="/">
        <span class="rpw-brand-text">Reimagine Pro Wash &amp; More</span>
        <span class="rpw-brand-tagline">Refresh. Renew. Reimagine.</span>
      </a>

      <ul class="rpw-nav-menu">
        <li class="rpw-nav-item"><a class="rpw-nav-link" href="/">Home</a></li>
        <li class="rpw-nav-item"><a class="rpw-nav-link" href="/services">Services</a></li>
        <li class="rpw-nav-item"><a class="rpw-nav-link" href="/blog">Blog</a></li>
        <li class="rpw-nav-item"><a class="rpw-nav-link" href="/contact">Contact</a></li>
      </ul>

      <div class="rpw-header-cta">
        <a class="rpw-phone-header" href="tel:9842024980">
          <i class="fas fa-phone" aria-hidden="true"></i>
          Call (984) 202-4980
        </a>
        <a class="rpw-cta-button" href="#contact">Request a Quote</a>
      </div>

      <button class="rpw-mobile-menu-toggle" type="button" aria-expanded="false" aria-controls="mobile-nav">
        <span class="rpw-hamburger"></span>
        <span class="rpw-hamburger"></span>
        <span class="rpw-hamburger"></span>
        <span class="sr-only">Toggle navigation</span>
      </button>
    </div>

    <div class="rpw-mobile-menu" id="mobile-nav">
      <div class="rpw-mobile-menu-content">
        <ul class="rpw-mobile-nav-menu">
          <li class="rpw-mobile-nav-item"><a class="rpw-mobile-nav-link" href="/">Home</a></li>
          <li class="rpw-mobile-nav-item"><a class="rpw-mobile-nav-link" href="/services">Services</a></li>
          <li class="rpw-mobile-nav-item"><a class="rpw-mobile-nav-link" href="/blog">Blog</a></li>
          <li class="rpw-mobile-nav-item"><a class="rpw-mobile-nav-link" href="/contact">Contact</a></li>
          <li class="rpw-mobile-nav-item"><a class="rpw-mobile-nav-link" href="#contact">Request a Quote</a></li>
        </ul>
        <div class="rpw-mobile-cta">
          <a class="rpw-mobile-phone" href="tel:9842024980">
            <i class="fas fa-phone" aria-hidden="true"></i>
            (984) 202-4980
          </a>
          <a class="rpw-cta-button" href="#contact">Get Free Estimate</a>
        </div>
      </div>
    </div>
  </nav>
</header>

<style>
  .sr-only {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
</style>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const header = document.querySelector('.rpw-main-header');
    const mobileToggle = document.querySelector('.rpw-mobile-menu-toggle');
    const mobileMenu = document.querySelector('.rpw-mobile-menu');

    if (mobileToggle && mobileMenu) {
      mobileToggle.addEventListener('click', () => {
        const isActive = mobileToggle.classList.toggle('active');
        mobileMenu.classList.toggle('active');
        mobileToggle.setAttribute('aria-expanded', isActive ? 'true' : 'false');
        document.body.style.overflow = isActive ? 'hidden' : '';
      });

      document.addEventListener('click', (event) => {
        if (!mobileMenu.contains(event.target) && !mobileToggle.contains(event.target)) {
          mobileToggle.classList.remove('active');
          mobileMenu.classList.remove('active');
          mobileToggle.setAttribute('aria-expanded', 'false');
          document.body.style.overflow = '';
        }
      });
    }

    if (header) {
      const toggleScrolledState = () => {
        if (window.scrollY > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      };

      toggleScrolledState();
      window.addEventListener('scroll', toggleScrolledState, { passive: true });
    }
  });
</script>
